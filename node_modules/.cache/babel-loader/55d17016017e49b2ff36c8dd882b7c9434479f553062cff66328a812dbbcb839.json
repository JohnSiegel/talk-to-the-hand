{"ast":null,"code":"var _jsxFileName = \"/Users/ramankhatrichhetri/Documents/GitHub/talk-to-the-hand/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { Suspense, useEffect, useRef, useState } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { Environment } from \"@react-three/drei\";\nimport Overlay from \"./Overlay\";\nimport Model from \"./Model\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [textToAslScript, setTextToAslScript] = useState(null);\n  const [pyodide, setPyodide] = useState(null);\n  const [addedScript, setAddedScript] = useState(false);\n  const overlay = useRef();\n  const caption = useRef();\n  const scroll = useRef(0);\n  useEffect(() => {\n    if (!addedScript) {\n      const $pyodide = document.createElement(\"script\");\n      $pyodide.src = \"https://cdn.jsdelivr.net/pyodide/dev/full/pyodide.js\";\n      $pyodide.type = \"text/javascript\";\n      $pyodide.onload = () => {\n        setAddedScript(true);\n      };\n      document.head.appendChild($pyodide);\n    } else if (pyodide == null) {\n      window.loadPyodide({\n        indexURL: \"https://cdn.jsdelivr.net/pyodide/dev/full/\"\n      }).then(py => {\n        setPyodide(py);\n      });\n    }\n  }, [addedScript, setAddedScript, pyodide, setPyodide]);\n  useEffect(() => {\n    if (textToAslScript == null) {\n      fetch(\"/scripts/text_to_asl.py\").then(response => response.text()).then(text => {\n        setTextToAslScript(text);\n      });\n    }\n  }, [textToAslScript, setTextToAslScript]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Canvas, {\n      shadows: true,\n      onCreated: state => state.events.connect(overlay.current),\n      raycaster: {\n        computeOffsets: _ref => {\n          let {\n            clientX,\n            clientY\n          } = _ref;\n          return {\n            offsetX: clientX,\n            offsetY: clientY\n          };\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: null,\n        children: [/*#__PURE__*/_jsxDEV(Model, {\n          scroll: scroll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Environment, {\n          preset: \"city\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n      ref: overlay,\n      caption: caption,\n      scroll: scroll,\n      pyodide: pyodide,\n      textToAslScript: textToAslScript\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"GG0wfwz1zmg/ApNErINzGvsgCQE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Suspense","useEffect","useRef","useState","Canvas","Environment","Overlay","Model","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","textToAslScript","setTextToAslScript","pyodide","setPyodide","addedScript","setAddedScript","overlay","caption","scroll","$pyodide","document","createElement","src","type","onload","head","appendChild","window","loadPyodide","indexURL","then","py","fetch","response","text","children","shadows","onCreated","state","events","connect","current","raycaster","computeOffsets","_ref","clientX","clientY","offsetX","offsetY","intensity","fileName","_jsxFileName","lineNumber","columnNumber","fallback","preset","ref","_c","$RefreshReg$"],"sources":["/Users/ramankhatrichhetri/Documents/GitHub/talk-to-the-hand/src/App.js"],"sourcesContent":["import React, { Suspense, useEffect, useRef, useState } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { Environment } from \"@react-three/drei\";\nimport Overlay from \"./Overlay\";\nimport Model from \"./Model\";\n\nfunction App() {\n  const [textToAslScript, setTextToAslScript] = useState(null);\n  const [pyodide, setPyodide] = useState(null);\n  const [addedScript, setAddedScript] = useState(false);\n  const overlay = useRef();\n  const caption = useRef();\n  const scroll = useRef(0);\n  useEffect(() => {\n    if (!addedScript) {\n      const $pyodide = document.createElement(\"script\");\n      $pyodide.src = \"https://cdn.jsdelivr.net/pyodide/dev/full/pyodide.js\";\n      $pyodide.type = \"text/javascript\";\n      $pyodide.onload = () => {\n        setAddedScript(true);\n      };\n      document.head.appendChild($pyodide);\n    } else if (pyodide == null) {\n      window\n        .loadPyodide({\n          indexURL: \"https://cdn.jsdelivr.net/pyodide/dev/full/\",\n        })\n        .then((py) => {\n          setPyodide(py);\n        });\n    }\n  }, [addedScript, setAddedScript, pyodide, setPyodide]);\n  useEffect(() => {\n    if (textToAslScript == null) {\n      fetch(\"/scripts/text_to_asl.py\")\n        .then((response) => response.text())\n        .then((text) => {\n          setTextToAslScript(text);\n        });\n    }\n  }, [textToAslScript, setTextToAslScript]);\n  return (\n    <>\n      <Canvas\n        shadows\n        onCreated={(state) => state.events.connect(overlay.current)}\n        raycaster={{\n          computeOffsets: ({ clientX, clientY }) => ({\n            offsetX: clientX,\n            offsetY: clientY,\n          }),\n        }}\n      >\n        <ambientLight intensity={1} />\n        <Suspense fallback={null}>\n          <Model scroll={scroll} />\n          <Environment preset=\"city\" />\n        </Suspense>\n      </Canvas>\n      <Overlay\n        ref={overlay}\n        caption={caption}\n        scroll={scroll}\n        pyodide={pyodide}\n        textToAslScript={textToAslScript}\n      />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}